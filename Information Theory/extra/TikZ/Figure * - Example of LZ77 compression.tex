\documentclass{subfiles}
\begin{document}
    \begin{figure*}[!hb]
        \centering
        \begin{tikzpicture}
            [
                every node/.style={font=\small\ttfamily}
            ]

            \node (s0) ["$S =$" above left] {};
            \node (s1) [right=0.125 of s0, "a" rpIris] {};
            \node (s2) [right=0.125 of s1, "a" rpIris] {};
            \node (s3) [right=0.125 of s2, "b" rpIris] {};

            \node [above=0.5 of s1, "1"] {};
            \node [above=0.5 of s2, "2"] {};
            \node [above=0.5 of s3, "3"] {};

            \foreach \symbol/\index/\prev in {b/4/3, a/5/4, a/6/5, a/7/6, b/8/7, a/9/8, c/10/9, a/11/10} {
                \node (s\index) [right=0.125 of s\prev, "\symbol"] {};
                \node [above=0.5 of s\index, "\index"] {};
            }

            % Buffers
            \draw [ |-| ] (s1.north) ++ (-0.125, 0) -- ($(s5.north) + (0.2, 0)$); % Search buffer 
            \node at ($(s1.north) ! 0.5 ! (s5.north) $) 
                [anchor=north, text width = 1cm, align=center] {Search Buffer};

            \draw [ |- ] (s11.north) ++ (0.125, 0) -- ($(s5.north) + (0.2, 0)$); % Lookahead buffer 
            \node at ($(s5.north) ! 0.5 ! (s11.north)$)
                [anchor=north, text width=1cm, align=center] {Lookahead Buffer};
        \end{tikzpicture}
    \end{figure*}
\end{document}
