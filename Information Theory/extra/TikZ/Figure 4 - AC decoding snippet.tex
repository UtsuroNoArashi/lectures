\documentclass{subfiles}
\begin{document}
    \begin{figure}[!hb]
        \centering
        \begin{subfigure}{0.75\textwidth}
            \begin{lstlisting}
                char* AC_decode (int encodedText, int textLength, double* Prob, double* cumFun){
                    double high = 1;
                    double low = 0;
                    int i = 1;
                    double range;
                    char* decoded = malloc(sizeof(char * textLength));
                    while (i <= n) {
                        // divide the current range into subranges according to the probabilities
                        // return the symbol x associated to the current range 
                        range = high - low;
                        decoded[i -1] = x;
                        low = low + range * cumFun[x];
                        high = low + range * (cumFun[x] + Prob[x]);
                    }
                    return decoded;
                }
            \end{lstlisting}
        \end{subfigure}
        \caption{C like implementation of the \gls{ac} decoding.}
        \label{Fig:5}
    \end{figure}
\end{document}
